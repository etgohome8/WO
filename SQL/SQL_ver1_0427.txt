CREATE TABLE ADMINS (
	A_SEQ SERIAL4 NOT NULL,	
	A_ID VARCHAR(20) NOT NULL,
	A_PASSWORD VARCHAR(30) NOT NULL,
	A_NAME VARCHAR(30) NOT NULL,
	CONSTRAINT ADMIN_PKEY PRIMARY KEY (A_ID)
);


CREATE TABLE COUPON_TEMPLATE (
	CT_CODE VARCHAR(20) NOT NULL,
	SI_CODE VARCHAR(20) NOT NULL,
	CT_NAME VARCHAR(50) NOT NULL,
	CT_TYPE VARCHAR(20) NOT NULL,
	CT_NUMBER VARCHAR(20) NOT NULL,
	CT_STARTDATE DATE NOT NULL,
	CT_ENDDATE DATE NOT NULL,
	CT_DISCOUNT_TYPE BOOL NOT NULL DEFAULT FALSE,
	CT_DISCOUNT_P FLOAT8,
	CT_DISCOUNT_M INT4,
	CONSTRAINT COUPON_PKEY PRIMARY KEY (CT_CODE)
);


CREATE TABLE COUPON (
	C_CODE VARCHAR(20) NOT NULL,
	CT_CODE VARCHAR(20) NOT NULL,
	C_NUMBER VARCHAR(20) NOT NULL,
	C_STARTDATE DATE NOT NULL,
	C_ENDDATE DATE NOT NULL,
	C_USEABLE BOOL NOT NULL DEFAULT FALSE,
	C_USEDDATE TIMESTAMP NOT NULL,
	U_ID VARCHAR(20) NOT NULL,
	CONSTRAINT COUPON_PKEY PRIMARY KEY (C_CODE)
);


CREATE TABLE EVENT_BOARD (
	E_SEQ SERIAL4 NOT NULL,
	E_CODE VARCHAR(20) NOT NULL,
	E_TITLE VARCHAR(100) NOT NULL,
	E_THUMBNAIL_IMAGE VARCHAR(255) NOT NULL,
	E_COMTENT_IMAGE VARCHAR(255) NOT NULL,
	E_URL VARCHAR(1000) NOT NULL,
	E_REGTDATE TIMESTAMP NOT NULL,
	E_STARTDATE TIMESTAMP NOT NULL,
	E_ENDDATE TIMESTAMP NOT NULL,
	CONSTRAINT EVENT_BOARD_PKEY PRIMARY KEY (E_CODE)
);


CREATE TABLE FAQ (
	FAC_SEQ SERIAL4 NOT NULL,
	FAC_CODE VARCHAR(20) NOT NULL,
	FAC_TYPE VARCHAR(20) NOT NULL,
	FAC_TITLE VARCHAR(100) NOT NULL,
	FAC_CONTENT VARCHAR(4000) NOT NULL,
	CONSTRAINT FAQ_PKEY PRIMARY KEY (FAC_CODE)
);


CREATE TABLE FAQ_STORE (
	FAS_SEQ SERIAL4 NOT NULL,
	FAS_CODE VARCHAR(20) NOT NULL,
	FAS_TYPE VARCHAR(10) NOT NULL,
	FAS_TITLE VARCHAR(1000) NOT NULL,
	FAS_CONTENT VARCHAR(4000) NOT NULL,
	CONSTRAINT FAQ_STORE_PKEY PRIMARY KEY (FAS_CODE)
);


CREATE TABLE MENU_GROUP (
	MG_SEQ SERIAL4 NOT NULL,
	MG_CODE VARCHAR(20) NOT NULL,
	MG_NAME VARCHAR(50) NOT NULL,
	SI_CODE VARCHAR(20) NOT NULL,
	CONSTRAINT MENU_GROUP_PKEY PRIMARY KEY (MG_CODE)
);


CREATE TABLE OPTION_GROUP (
	OG_SEQ SERIAL4 NOT NULL,
	OG_CODE VARCHAR(20) NOT NULL,
	OG_NAME VARCHAR(50) NOT NULL,
	SI_CODE VARCHAR(20) NOT NULL,
	CONSTRAINT OPTION_GROUP_PKEY PRIMARY KEY (OG_CODE)
);


CREATE TABLE MENU_OPTION (
	OP_SEQ SERIAL4 NOT NULL,
	OP_CODE VARCHAR(20) NOT NULL,
	OG_CODE VARCHAR(50) NOT NULL,
	SI_CODE VARCHAR(20) NOT NULL,
	OP_SEL1 BOOL NOT NULL DEFAULT FALSE,
	OP_SEL2 VARCHAR(1000) NOT NULL,
	OP_SEL3 VARCHAR(1000) NOT NULL,
	OP_OOS BOOL NOT NULL DEFAULT FALSE,
	CONSTRAINT MENU_OPTION_PKEY PRIMARY KEY (OP_CODE)
);


CREATE TABLE NOTICE_BOARD (
	N_SEQ SERIAL4 NOT NULL,
	N_CODE VARHCAR(20) NOT NULL,
	N_TITLE VARCHAR(100) NOT NULL,
	N_CONTENT TEXT NOT NULL,
	N_REGDATE TIMESTAMP NOT NULL,
	N_FIX BOOL NOT NULL,
	N_TYPE VARCHAR(20) NOT NULL,
	N_PIC_URL VARCHAR(255) NOT NULL,
	CONSTRAINT NOTICE_BOARD_PKEY PRIMARY KEY (N_CODE)
);


CREATE TABLE STORE_FORM (
	SF_SEQ SERIAL4 NOT NULL,
	SF_CODE VARCHAR(20) NOT NULL,
	SF_NAME VARCHAR(100) NOT NULL,
	SF_REG_DATE TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	SF_LOC VARCHAR(20),
	SF_ZIPCODE VARCHAR(20) NOT NULL,
	SF_ADDRESS VARCHAR(255) NOT NULL,
	SF_ADDR_ROAD VARCHAR(255) NOT NULL,
	SF_ADDR_DETAIL VARCHAR(255),
	SF_TEL VARCHAR(20) NOT NULL,
	SF_PARKING_ABLE BOOL NOT NULL DEFAULT FALSE,
	SF_DUE_TIME VARCHAR(20),
	SF_HOLIDAY_FIX VARCHAR(20),
	SF_HOLIDAY_IMSI VARCHAR(20),
	SF_OPEN VARCHAR(40) NOT NULL,
	SF_CLOSE VARCHAR(40) NOT NULL,
	SF_REFERINFO VARCHAR(4000) NOT NULL,
	SF_MAP_IMAGE VARCHAR(255),
	SF_DIRECTIONS VARCHAR(1000),
	SF_IMAGE VARCHAR(255) NOT NULL DEFAULT 'HTTPS://WALKINGORDER.S3.AP-NORTHEAST-2.AMAZONAWS.COM/CAFE_IMAGES/NO-IMAGE-CAFE.PNG'::CHARACTER VARYING,
	SF_STATUS BOOL NOT NULL DEFAULT TRUE,
	SF_USESTORE BOOL NOT NULL DEFAULT FALSE,
	SF_EMAIL VARCHAR(100) NOT NULL DEFAULT 'NO_EMAIL_T_T'::CHARACTER VARYING,
	SF_ACC_NO VARCHAR(20) NOT NULL,
	SF_BANKBOOK_IMAGE VARCHAR(255) NOT NULL,
	SF_BUSINESS_REGISTRATION_IMAGE VARCHAR(255) NOT NULL,
	CONSTRAINT STORE_INFO_PKEY PRIMARY KEY (SF_CODE)
);


CREATE TABLE STORE_INFO (
	SI_SEQ SERIAL4 NOT NULL,
	SI_CODE VARCHAR(20) NOT NULL,
	SI_NAME VARCHAR(100) NOT NULL,
	SI_REG_DATE TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	SI_LOC VARCHAR(20),
	SI_ZIPCODE VARCHAR(20) NOT NULL,
	SI_ADDRESS VARCHAR(255) NOT NULL,
	SI_ADDR_ROAD VARCHAR(255) NOT NULL,
	SI_ADDR_DETAIL VARCHAR(255),
	SI_TEL VARCHAR(20) NOT NULL,
	SI_PARKING_ABLE BOOL NOT NULL DEFAULT FALSE,
	SI_DUE_TIME VARCHAR(20),
	SI_HOLIDAY_FIX VARCHAR(20),
	SI_HOLIDAY_IMSI VARCHAR(20),
	SI_OPEN VARCHAR(40) NOT NULL,
	SI_CLOSE VARCHAR(40) NOT NULL,
	SI_REFERINFO VARCHAR(4000) NOT NULL,
	SI_MAP_IMAGE VARCHAR(255),
	SI_DIRECTIONS VARCHAR(1000),
	SI_IMAGE VARCHAR(255) NOT NULL DEFAULT 'HTTPS://WALKINGORDER.S3.AP-NORTHEAST-2.AMAZONAWS.COM/CAFE_IMAGES/NO-IMAGE-CAFE.PNG'::CHARACTER VARYING,
	SI_STATUS BOOL NOT NULL DEFAULT TRUE,
	SI_USESTORE BOOL NOT NULL DEFAULT FALSE,
	SI_EMAIL VARCHAR(100) NOT NULL DEFAULT 'NO_EMAIL_T_T'::CHARACTER VARYING,
	CONSTRAINT STORE_INFO_PKEY PRIMARY KEY (SI_CODE)
);


CREATE TABLE STORE_ACCOUNT (
	SA_SEQ SERIAL4 NOT NULL,
	SA_ACC_NO VARCHAR(20) NOT NULL,
	SA_PASSWORD VARCHAR(30) NOT NULL,
	SA_BANKBOOK_IMAGE VARCHAR(255) NOT NULL,
	SA_BUSINESS_REGISTRATION_IMAGE VARCHAR(255) NOT NULL,
	SA_REGDATE TIMESTAMP NOT NULL,
	CONSTRAINT STORE_INFO_PKEY PRIMARY KEY (SA_CODE)
);


CREATE TABLE TERMS (
	T_CODE VARCHAR(20) NOT NULL,
	T_TYPE VARCHAR(20) NOT NULL,
	T_TITLE VARCHAR(1000) NOT NULL,
	T_CONTENT TEXT NOT NULL,
	T_REGDATE TIMESTAMP NOT NULL,
	T_ENFDATE TIMESTAMP NOT NULL,
	CONSTRAINT TERMS_PKEY PRIMARY KEY (T_CODE)
);


CREATE TABLE USERS (
	U_SEQ SERIAL4 NOT NULL,
	U_ID VARCHAR(20) NOT NULL,
	U_PASSWORD VARCHAR(30) NOT NULL,
	U_TYPE VARCHAR(10) NOT NULL DEFAULT 'NORMAL'::CHARACTER VARYING,
	U_NAME VARCHAR(50) NOT NULL,
	U_NICKNAME VARCHAR(50) NOT NULL,
	U_TEL VARCHAR(20) NOT NULL,
	U_EMAIL VARCHAR(100) NOT NULL,
	U_BIRTHDAY VARCHAR(20),
	U_SMS_ABLE BOOL NOT NULL DEFAULT FALSE,
	U_EMAIL_ABLE BOOL NOT NULL DEFAULT FALSE,
	U_POINT INT4 NOT NULL DEFAULT 0,
	U_REGDATE TIMESTAMP NOT NULL,
	U_STATUS BOOL NOT NULL DEFAULT TRUE,
	CONSTRAINT USERS_PKEY PRIMARY KEY (U_ID),
	CONSTRAINT USERS_U_NICKNAME_KEY UNIQUE (U_NICKNAME)
);


CREATE TABLE BANNER (
	B_SEQ SERIAL4 NOT NULL,
	B_CODE VARCHAR(20) NOT NULL,
	E_CODE VARCHAR(20) NOT NULL,
	B_TITLE VARCHAR(100) NOT NULL,
	B_CLICK_URL VARCHAR(2500) NOT NULL,
	B_IMAGE VARCHAR(255) NOT NULL,
	CONSTRAINT BANNER_PKEY PRIMARY KEY (B_CODE),
);



CREATE TABLE FRANCHISE (
	F_SEQ SERIAL4 NOT NULL,
	F_CODE VARCHAR(20) NOT NULL,
	F_NAME VARCHAR(100) NOT NULL,
	F_TEL VARCHAR(20) NOT NULL,
	F_EMAIL VARCHAR(100) NOT NULL,
	F_LOC VARCHAR(20) NOT NULL,
	F_TITLE VARCHAR(100) NOT NULL,
	F_CONTENT VARCHAR(4000) NOT NULL,
	F_REGDATE TIMESTAMP NOT NULL,
	CONSTRAINT FRANCHISE_PKEY PRIMARY KEY (F_CODE)
);


CREATE TABLE FRANCHISE_ACCEPT (
	FA_SEQ SERIAL4 NOT NULL,
	FA_CODE VARCHAR(20) NOT NULL,
	F_CODE VARCHAR(20) NOT NULL,
	FA_ACC VARCHAR(10) NOT NULL,
	FA_CONT_ACCEPT VARCHAR(4000) NOT NULL,
	FA_CONT_DENIAL VARCHAR(4000) NOT NULL,
	FA_CONT_RETURN VARCHAR(4000) NOT NULL,
	CONSTRAINT FRANCHISE_ACCEPT_PKEY PRIMARY KEY (F_CODE)
);


CREATE TABLE LIKE_STORE (
	U_ID VARCHAR(20) NOT NULL,
	SI_CODE VARCHAR(20) NOT NULL,
	CONSTRAINT LIKE_STORE_PKEY PRIMARY KEY (U_ID, SI_CODE)
);


CREATE TABLE MENU (
	M_SEQ SERIAL4 NOT NULL,
	M_CODE VARCHAR(20) NOT NULL,
	M_OOS BOOL NOT NULL DEFAULT FALSE,
	M_NAME VARCHAR(50) NOT NULL,
	M_PRICE INT4 NOT NULL,
	M_IMG_FILE VARCHAR(255) NOT NULL,
	MG_CODE VARCHAR(20) NOT NULL,
	SI_CODE VARCHAR(20) NOT NULL,
	CONSTRAINT MENU_PKEY PRIMARY KEY (M_CODE)
);


CREATE TABLE ORDERS (
	O_SEQ SERIAL4 NOT NULL,
	O_CODE VARCHAR(20) NOT NULL,
	U_ID VARCHAR(20) NOT NULL,
	SI_CODE VARCHAR(20) NOT NULL,
	O_ORDER_DATE TIMESTAMP NOT NULL,
	O_COUPON_STATUS BOOL NOT NULL DEFAULT FALSE,
	C_CODE VARCHAR(20) NOT NULL,
	O_POINT_STATUS BOOL NOT NULL DEFAULT FALSE,
	O_POINT VARCHAR(20),
	O_PAYMENT_LIST VARCHAR(20) NOT NULL,
	O_REQUEST VARCHAR(255) NOT NULL,
	O_DISCOUNT_PRICE INT4 NOT NULL,
	O_TOTAL_PRICE INT4 NOT NULL,
	O_ORDER_STATE VARCHAR(1000) NOT NULL,
	CONSTRAINT ORDERS_PKEY PRIMARY KEY (O_CODE)
);


CREATE TABLE QNA (
	QA_CODE VARCHAR(20) NOT NULL,
	U_ID VARCHAR(20) NOT NULL,
	SI_CODE VARCHAR(20) NOT NULL,
	QA_TYPE VARCHAR(10) NOT NULL,
	QA_TITLE VARCHAR(1000) NOT NULL,
	QA_TYPE_ANS BOOL NOT NULL,
	QA_CONTENT_Q VARCHAR(4000) NOT NULL,
	QA_CONTENT_A VARCHAR(4000) NOT NULL,
	QA_DATE_Q TIMESTAMP NOT NULL,
	QA_DATE_A TIMESTAMP NOT NULL,
	CONSTRAINT QNA_PKEY PRIMARY KEY (QA_CODE)
);


CREATE TABLE USER_REVIEW (
	UR_CODE VARCHAR(20) NOT NULL,
	U_ID VARCHAR(20) NOT NULL,
	SI_CODE VARCHAR(20) NOT NULL,
	UR_REGDATE TIMESTAMP NOT NULL,
	UR_STAR FLOAT8 NOT NULL,
	UR_PIC_URL VARCHAR(255),
	UR_CONTENT VARCHAR(4000),
	O_CODE VARCHAR(20),
	UR_OPEN BOOL NOT NULL DEFAULT FALSE,
	UR_ANS VARCHAR(4000),
	CONSTRAINT USER_REVIEW_PKEY PRIMARY KEY (UR_CODE)
);


CREATE TABLE BASKET (
	B_SEQ SERIAL4 NOT NULL,
	B_CODE VARCHAR(20) NOT NULL,
	U_ID VARCHAR(20) NOT NULL,
	SIR_CODE VARCHAR(20) NOT NULL,
	M_CODE VARCHAR(20) NOT NULL,
	B_QUANTITY INT4 NOT NULL,
	OB_CODE VARCHAR(20) NOT NULL,
	B_TOTAL_PRICE INT4 NOT NULL,
	CONSTRAINT BASKET_PKEY PRIMARY KEY (B_CODE)
);


CREATE TABLE OPTION_BASKET (
	OB_SEQ SERIAL4 NOT NULL,
	OB_CODE VARCHAR(20) NOT NULL,
	U_ID VARCHAR(20) NOT NULL,
	SIR_CODE VARCHAR(20) NOT NULL,
	M_CODE VARCHAR(20) NOT NULL,
	OP_CODE VARCHAR(200) NOT NULL,
	CONSTRAINT BASKET_PKEY PRIMARY KEY (OB_CODE)
	
);